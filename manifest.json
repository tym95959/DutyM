// Add this to your script.js
function createDynamicManifest() {
    const manifest = {
        name: "Duty Manager",
        short_name: "DutyMgr",
        description: "Duty and Leave Management System",
        start_url: "https://duty-m.vercel.app/",
        display: "standalone",
        background_color: "#3498db",
        theme_color: "#3498db",
        orientation: "portrait",
        scope: "./",
        categories: ["productivity", "business"],
        icons: [{
            src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%233498db'/%3E%3Ccircle cx='50' cy='35' r='12' fill='white'/%3E%3Cpath d='M50,55 C65,55 70,70 70,70 L30,70 C30,70 35,55 50,55 Z' fill='white'/%3E%3Cpath d='M35,75 L65,75 L65,85 C65,90 60,95 50,95 C40,95 35,90 35,85 Z' fill='white'/%3E%3Cpath d='M20,20 L20,40 L30,30 Z' fill='%2327ae60'/%3E%3C/svg%3E",
            sizes: "512x512",
            type: "image/svg+xml"
        }]
    };
    
    const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
    const url = URL.createObjectURL(blob);
    
    // Remove existing manifest link
    const existingManifest = document.querySelector('link[rel="manifest"]');
    if (existingManifest) {
        existingManifest.remove();
    }
    
    // Create new manifest link
    const link = document.createElement('link');
    link.rel = 'manifest';
    link.href = url;
    document.head.appendChild(link);
}

// Call this function after DOM loads
document.addEventListener('DOMContentLoaded', function() {
    createDynamicManifest();
});
